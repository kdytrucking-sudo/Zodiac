# Forum Feature - Larak's Zodiac

## 概述

论坛功能已成功添加到 Larak's Zodiac 网站。该功能允许用户在两个不同的板块中进行讨论和交流。

## 功能特点

### 1. 两个论坛板块
- **客服板块 (Customer Service)** - 用户可以在此提问、反馈问题或寻求帮助
- **用户杂谈 (General Discussion)** - 用户可以自由讨论星座相关话题

### 2. 用户权限
- **未登录用户**：只能浏览帖子，无法发帖
- **已登录用户**：可以发帖、点赞

### 3. 核心功能
- ✅ 浏览两个板块的所有帖子
- ✅ 切换板块查看不同内容
- ✅ 登录后创建新帖子
- ✅ 发帖时可选择关联属相（12生肖）
- ✅ 帖子卡片显示关联的属相标签
- ✅ 查看帖子详情
- ✅ 点赞功能
- ✅ 实时显示帖子数量
- ✅ 显示发帖时间（相对时间）
- ✅ 响应式设计，支持移动端

## 技术实现

### 文件结构
```
public/
├── forum.html          # 论坛页面 HTML
├── forum.js            # 论坛逻辑和 Firebase 集成
├── style.css           # 包含论坛样式（已添加）
└── navbar.js           # 导航栏（已更新）
```

### 数据库结构

**Firestore Collection**: `forum-posts`

每个帖子文档包含以下字段：
```javascript
{
  title: String,           // 帖子标题
  content: String,         // 帖子内容
  section: String,         // 板块 ('customer-service' 或 'general-discussion')
  zodiacSign: String,      // 关联的属相 (可选: 'rat', 'ox', 'tiger', 等)
  authorId: String,        // 作者 UID
  authorName: String,      // 作者显示名称
  authorEmail: String,     // 作者邮箱
  likes: Number,           // 点赞数
  createdAt: Timestamp,    // 创建时间
  updatedAt: Timestamp     // 更新时间
}
```

## 使用说明

### 访问论坛
1. 在导航栏点击 "Forum" 链接
2. 或直接访问 `/forum.html`

### 浏览帖子
1. 选择想要查看的板块（客服或杂谈）
2. 浏览帖子列表
3. 点击任意帖子查看详情

### 发布帖子（需要登录）
1. 点击 "New Post" 按钮
2. 选择板块
3. **（可选）选择关联的属相** - 如果帖子与某个生肖相关，可以选择对应的属相
4. 输入标题和内容
5. 点击 "Post" 发布

### 查看帖子
- 帖子卡片会显示：
  - 板块标签（蓝色=客服，绿色=杂谈）
  - **属相标签**（如果有关联）- 金色标签显示生肖图标和名称
  - 帖子标题和预览
  - 作者和发布时间
  - 点赞数

### 点赞帖子（需要登录）
1. 打开帖子详情
2. 点击 ❤️ 按钮

## 设计风格

论坛页面完全遵循网站现有的设计系统：
- 深色主题背景 (#0f0f1a)
- 金色强调色 (#fdd56a)
- 红色主色调 (#e54d42)
- 卡片式布局
- 平滑的悬停动画
- 响应式设计

## 未来改进建议

1. **评论功能** - 允许用户在帖子下评论
2. **搜索功能** - 搜索帖子内容
3. **用户资料** - 点击作者名称查看其他帖子
4. **帖子编辑/删除** - 允许作者编辑或删除自己的帖子
5. **管理员功能** - 管理员可以删除不当内容
6. **标签系统** - 为帖子添加标签以便分类
7. **通知系统** - 当帖子被点赞或回复时通知用户
8. **富文本编辑器** - 支持格式化文本、图片等

## 注意事项

- 确保 Firebase Firestore 已正确配置
- 用户必须登录才能发帖和点赞
- 帖子按创建时间倒序排列（最新的在前）
- 字符限制：标题 100 字符，内容 2000 字符
